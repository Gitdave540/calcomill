<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promille Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .container {
            max-width: 600px;
            margin: auto;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 10px;
            background-color: #f9f9f9;
            margin-bottom: 40px;  /* Add space at the bottom */
        }
        .input-group {
            margin-bottom: 15px;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
        }
        .input-group input {
            width: 100%;
            padding: 8px;
            font-size: 16px;
        }
        .result {
            margin-top: 20px;
            padding: 10px;
            background-color: #dff0d8;
            border: 1px solid #d6e9c6;
            border-radius: 5px;
            text-align: center;
        }
        .result img {
            max-width: 200px;
            height: auto;
            margin-top: 15px;
        }
        .philosophy {
            margin-top: 20px;
            font-style: italic;
            color: #555;
            text-align: center;
            display: block;  /* Ensure it's visible when displayed */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Promille Calculator</h1>
        <div class="input-group">
            <label for="liter">Flüssigkeit vorhanden in Liter:</label>
            <input type="number" id="liter" placeholder="Enter value (e.g., 100)" required>
        </div>
        <div class="input-group">
            <label for="promille">Flüssigkeit vorhanden in Promille:</label>
            <input type="number" id="promille" placeholder="Enter value (e.g., 46)" required>
        </div>
        <div class="input-group">
            <label for="targetPromille">Zu erreichende gesammt in Promille:</label>
            <input type="number" id="targetPromille" placeholder="Enter value (e.g., 34)" required>
        </div>
        <div class="input-group">
            <label for="addedPromille">Zugefügte Flüssigkeit in Promille:</label>
            <input type="number" id="addedPromille" placeholder="Enter value (e.g., 0)" required>
        </div>
        <div class="input-group">
            <label for="temperature">Aktuelle Temperatur in °C (20° als Standard):</label>
            <input type="number" id="temperature" placeholder="20" value="20" required>
        </div>
        <button onclick="calculate()">Berechnen</button>
        <div id="results" class="result" style="display:none;">
            <p><strong>Beizufügende Liter:</strong> <span id="addedLiters"></span> l</p>
            <p><strong>Totales Liter:</strong> <span id="totalLiters"></span> l</p>
            <p><strong>Totales Promille:</strong> <span id="totalPromille"></span> ‰</p>
            <img id="resultImage" src="Logo_LD-removebg-preview.png" alt="Logo">
        </div>
        <div id="philosophy" class="philosophy" style="display:none;">
            <!-- Random philosophical quote will be displayed here -->
        </div>
    </div>

    <script>
        // Function to get correction factor based on temperature
        function getCorrectionFactor(temperature) {
            const correctionFactors = {
                10: 0.997,
                15: 0.995,
                20: 1.000, // Base temperature
                25: 1.003,
                30: 1.005
            };
    
            // Interpolation for non-tabulated values
            if (temperature < 10) return correctionFactors[10];
            if (temperature > 30) return correctionFactors[30];
    
            const keys = Object.keys(correctionFactors).map(Number);
            for (let i = 0; i < keys.length - 1; i++) {
                if (temperature >= keys[i] && temperature <= keys[i + 1]) {
                    const t1 = keys[i];
                    const t2 = keys[i + 1];
                    const f1 = correctionFactors[t1];
                    const f2 = correctionFactors[t2];
                    return f1 + ((temperature - t1) / (t2 - t1)) * (f2 - f1);
                }
            }
            return 1.000; // Default fallback
        }
    
        // Array of philosophical quotes
       const quotes = [
            // Philosophical Quotes
            "The only true wisdom is in knowing you know nothing. - Socrates",
            "Happiness is not something ready made. It comes from your own actions. - Dalai Lama",
            "The unexamined life is not worth living. - Socrates",
            "To be, or not to be, that is the question. - William Shakespeare",
            "Life is what happens when you're busy making other plans. - John Lennon",
            "In three words I can sum up everything I've learned about life: it goes on. - Robert Frost",
            "Not all those who wander are lost. - J.R.R. Tolkien",
            "The journey of a thousand miles begins with one step. - Lao Tzu",
            "Do not go where the path may lead, go instead where there is no path and leave a trail. - Ralph Waldo Emerson",
            "You must be the change you wish to see in the world. - Mahatma Gandhi",
            "It is not length of life, but depth of life. - Ralph Waldo Emerson",
            "The mind is everything. What you think you become. - Buddha",
            "Success is not final, failure is not fatal: It is the courage to continue that counts. - Winston Churchill",
            "The best way to predict the future is to create it. - Abraham Lincoln",
            "Live as if you were to die tomorrow. Learn as if you were to live forever. - Mahatma Gandhi",
            "That which does not kill us makes us stronger. - Friedrich Nietzsche",
            "You only live once, but if you do it right, once is enough. - Mae West",
            "It always seems impossible until it's done. - Nelson Mandela",
            "Life isn’t about finding yourself. Life is about creating yourself. - George Bernard Shaw",
            "To live is the rarest thing in the world. Most people exist, that is all. - Oscar Wilde",
            
            // Thought-Provoking or Fun Questions
            "If a tree falls in a forest and no one is around to hear it, does it make a sound?",
            "If you could have dinner with any historical figure, who would it be and why?",
            "If you could live forever, would you? Why or why not?",
            "What would happen if you woke up one morning and found out that everything you knew was a lie?",
            "If you had a superpower, but could only use it once, how would you use it?",
            "If you could instantly master any skill, what would it be?",
            "What is the meaning of life, in your opinion?",
            "What would you do if money didn’t exist?",
            "If time travel was possible, what moment in history would you visit?",
            "Do we have free will, or is everything predestined?",
            "What would happen if everyone on Earth suddenly became telepathic?",
            "If you could switch lives with anyone for a day, who would it be and why?",
            "Is it better to live a life full of pleasure or a life full of meaning?",
            "If you could ask one question to your future self, what would it be?",
            "Do you think humans are the most intelligent species, or are we just the most self-aware?",
            "If you could erase one event from history, would you? Which event would it be?",
            "What does it mean to truly be 'happy'?",
            "If you had a chance to learn the truth about any mystery in the world, what would it be?",
            "What defines a 'good' life?",
            "Is it better to be loved or feared? Why?"

           // Fun and Light-hearted Jokes
            "Why don't skeletons fight each other? They don't have the guts.",
            "I'm reading a book on anti-gravity. It's impossible to put down!",
            "Parallel lines have so much in common. It's a shame they'll never meet.",
            "Why don't some couples go to the gym? Because some relationships don’t work out.",
            "I told my wife she was drawing her eyebrows too high. She looked surprised.",
            "I would tell you a joke about an elevator, but it’s an uplifting experience.",
            "I told my computer I needed a break, and now it won’t stop sending me Kit-Kats.",
            "I used to play piano by ear, but now I use my hands.",
            "Why did the math book look sad? Because it had too many problems.",
            "I couldn’t figure out how to put my seatbelt on. Then it clicked!",
            "I used to hate facial hair, but then it grew on me.",
            "I asked my dog what’s two minus two. He said nothing.",
            "What’s orange and sounds like a parrot? A carrot.",
            "I’m on a whiskey diet. I’ve lost three days already.",
            "Why was the broom late? It swept in.",
            "I had a dream I was a muffler. I woke up exhausted.",
            "I know they say that money talks, but all mine says is ‘Goodbye.’",
            "What do you call fake spaghetti? An impasta!",
            "Why did the scarecrow win an award? Because he was outstanding in his field!",
            "How do you organize a space party? You planet. "
        ];



        function calculate() {
            // Input values
            const liter = parseFloat(document.getElementById("liter").value);
            const promille = parseFloat(document.getElementById("promille").value);
            const targetPromille = parseFloat(document.getElementById("targetPromille").value);
            const addedPromille = parseFloat(document.getElementById("addedPromille").value);
            const temperature = parseFloat(document.getElementById("temperature").value);

            // Ensure values are valid
            if (isNaN(liter) || isNaN(promille) || isNaN(targetPromille) || isNaN(addedPromille) || isNaN(temperature)) {
                alert("Bitte geben Sie gültige Werte ein.");
                return;
            }

            // Apply correction factor for temperature
            const correctionFactor = getCorrectionFactor(temperature);
            const correctedPromille = promille * correctionFactor;

            // Calculations based on promille values
            let addedLiters;
            if (targetPromille > correctedPromille) {
                // Enrichment: Adding higher promille liquid
                if (addedPromille <= targetPromille) {
                    alert("Das zugefügte Promille muss höher als das Ziel-Promille sein.");
                    return;
                }
                addedLiters = ((liter * (targetPromille - correctedPromille)) / (addedPromille - targetPromille));
            } else if (targetPromille < correctedPromille) {
                // Dilution: Adding lower promille liquid
                if (addedPromille >= targetPromille) {
                    alert("Das zugefügte Promille muss niedriger als das Ziel-Promille sein.");
                    return;
                }
                addedLiters = ((liter * (correctedPromille - targetPromille)) / (targetPromille - addedPromille));
            } else {
                alert("Aktuelles und Ziel-Promille sind gleich. Keine Berechnung notwendig.");
                return;
            }

            const totalLiters = liter + addedLiters;

            // Display results
            document.getElementById("addedLiters").textContent = addedLiters.toFixed(3);
            document.getElementById("totalLiters").textContent = totalLiters.toFixed(2);
            document.getElementById("totalPromille").textContent = targetPromille.toFixed(0);

            // Show results box
            document.getElementById("results").style.display = "block";

            // Display random philosophical quote
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById("philosophy").textContent = randomQuote;
            document.getElementById("philosophy").style.display = "block";
        }
    </script>
</body>
</html>
