<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promille Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: linear-gradient(135deg, #fdfdfd, #f1f1f1); /* Light gray and white gradient */
            color: #333; /* Neutral dark gray for text */
        }
        .container {
            max-width: 600px;
            margin: auto;
            padding: 20px;
            border: 1px solid #dcdcdc; /* Soft gray border */
            border-radius: 10px;
            background-color: #ffffff; /* Elegant white */
            margin-bottom: 40px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow */
        }
        .input-group {
            margin-bottom: 15px;
        }
        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #555; /* Medium gray for labels */
        }
        .input-group input {
            width: 100%;
            padding: 8px;
            font-size: 16px;
            border: 1px solid #ddd; /* Light gray border for inputs */
            border-radius: 5px;
            background-color: #fafafa; /* Light gray background */
            color: #333;
        }
        .result {
            margin-top: 20px;
            padding: 10px;
            background-color: #e8f5e9; /* Soft green */
            border: 1px solid #c8e6c9; /* Slightly darker green border */
            border-radius: 5px;
            text-align: center;
            color: #2e7d32; /* Rich green text */
        }
        .result img {
            max-width: 200px;
            height: auto;
            margin-top: 15px;
        }
        .philosophy {
            margin-top: 20px;
            font-style: italic;
            color: #888; /* Light gray text for philosophy */
            text-align: center;
        }

    </style>
    
    
</head>
<body>
    <div class="container">
        <h1>Promille Calculator</h1>
        <div class="input-group">
            <label for="liter">Flüssigkeit vorhanden in Liter:</label>
            <input type="number" id="liter" placeholder="Enter value (e.g., 100)" required>
        </div>
        <div class="input-group">
            <label for="promille">Flüssigkeit vorhanden in Promille:</label>
            <input type="number" id="promille" placeholder="Enter value (e.g., 46)" required>
        </div>
        <div class="input-group">
            <label for="targetPromille">Zu erreichende gesammt in Promille:</label>
            <input type="number" id="targetPromille" placeholder="Enter value (e.g., 34)" required>
        </div>
        <div class="input-group">
            <label for="addedPromille">Zugefügte Flüssigkeit in Promille:</label>
            <input type="number" id="addedPromille" placeholder="Enter value (e.g., 0)" required>
        </div>
        <div class="input-group">
            <label for="temperature">Aktuelle Temperatur in °C (20° als Standard):</label>
            <input type="number" id="temperature" placeholder="20" value="20" required>
        </div>
        <button onclick="calculate()">Berechnen</button>
        <div id="results" class="result" style="display:none;">
            <p><strong>Beizufügende Liter:</strong> <span id="addedLiters"></span> l</p>
            <p><strong>Totales Liter:</strong> <span id="totalLiters"></span> l</p>
            <p><strong>Totales Promille:</strong> <span id="totalPromille"></span> ‰</p>
            <img id="resultImage" src="Logo_LD-removebg-preview.png" alt="Logo">
        </div>
        <div id="philosophy" class="philosophy" style="display:none;">
            <!-- Random philosophical quote will be displayed here -->
        </div>
    </div>

    <script>
        // Function to get correction factor based on temperature
        function getCorrectionFactor(temperature) {
            const correctionFactors = {
                10: 0.997,
                15: 0.995,
                20: 1.000, // Base temperature
                25: 1.003,
                30: 1.005
            };
    
            // Interpolation for non-tabulated values
            if (temperature < 10) return correctionFactors[10];
            if (temperature > 30) return correctionFactors[30];
    
            const keys = Object.keys(correctionFactors).map(Number);
            for (let i = 0; i < keys.length - 1; i++) {
                if (temperature >= keys[i] && temperature <= keys[i + 1]) {
                    const t1 = keys[i];
                    const t2 = keys[i + 1];
                    const f1 = correctionFactors[t1];
                    const f2 = correctionFactors[t2];
                    return f1 + ((temperature - t1) / (t2 - t1)) * (f2 - f1);
                }
            }
            return 1.000; // Default fallback
        }
    
        // Array of philosophical quotes
        const quotes = [
            // Jokes
            "I told my whiskey it had too many friends. It’s always a 'spirit' of the moment thing.",
            "Why do spirits never get in trouble? They always ghost their problems!",
            "I asked the bartender for something new. He said, 'Let me whiskey you away!'",
            "Beer before liquor, never been sicker. Liquor before beer, you’re in the clear! Unless it’s grappa—then good luck!",
            "Grappa: because sometimes wine just isn’t enough of an adventure.",
            "What did the spirit say to the mixer? 'You complete me!'",
            "I’m not saying I like distilleries, but I find them still the best places to be.",
            "Why don’t breweries ever fail? They know how to 'tap' into opportunities!",
            "I asked my friend if they wanted to visit the brewery. They said, 'Ale yeah!'",
            "What’s a spirit’s favorite exercise? Lift-ing glasses!",
            
            // Hints for tasting or enjoying spirits
            "Sip, don’t gulp—grappa is like a fine story, meant to be savored, not rushed.",
            "When in doubt, pair whiskey with chocolate. It’s a match made in spirit heaven.",
            "The secret to enjoying grappa? Let it breathe a little before you do!",
            "For the perfect beer pour, hold the glass at a 45-degree angle. That’s the magic number.",
            "Spirits tasting 101: Take a small sniff, swirl the glass, then take a tiny sip. Let it sit on your palate.",
            "Age matters... especially when it comes to whiskey. Older doesn’t always mean better, but it’s usually smoother.",
            "Grappa tasting tip: The color often tells the tale. Clear? Likely young. Golden? Aged with care.",
            
            // Fun wordplay
            "I never met a grappa I didn’t like... or at least couldn’t remember liking later!",
            "Beer is proof that God loves us and wants us to be hoppy.",
            "They say spirits can haunt you, but I think they just want a 'shot' at your heart.",
            "Whiskey and wisdom both come with age. Drink responsibly, think profoundly.",
            
           // Grappa Jokes and Wordplay
            "Grappa: where leftovers from wine-making find their true calling.",
            "I told my grappa it was the spirit of the party—it blushed and turned into rosé.",
            "Grappa pairs well with friends, sunsets, and questionable life advice.",
            "Why did the spirit go to school? To improve its proof!",
            "I asked my bartender about a strong grappa; they said, 'Prepare to be distilled!'",
            "Grappa’s motto: waste not, sip more!",
            "Aged like fine grappa: complex, smooth, and slightly dangerous.",
            "Grappa is just wine that decided to kick things up a notch.",
            "They say life is a journey; I prefer mine with a splash of grappa along the way.",
            "When life gives you grape skins, make grappa!",
            "Grappa: the ultimate grape escape.",
            "You know it's good grappa when it warms your soul faster than your feet.",
        
            // Spirit Tips
            "Always store your grappa upright to preserve its full character.",
            "Grappa should be enjoyed in a tulip-shaped glass to concentrate its aroma.",
            "Pair grappa with dark chocolate or biscotti for a perfect Italian finish.",
            "Sipping grappa after dinner aids digestion and sparks great conversations.",
            "Remember: grappa should be served slightly chilled, but not cold!",
        
            // Fun Calculations
            "Did you know? 10 kg of grape pomace produces about 1 liter of grappa.",
            "Grappa typically ranges between 35%-60% alcohol by volume (ABV)—sip wisely!",
            "A bottle of aged grappa takes at least 3 years to perfect in oak barrels.",
        
            // Global Spirit Brands
            "Nardini Grappa - Italy: A legend since 1779.",
            "Jacopo Poli - Italy: Crafting elegance in every sip.",
    
            // Fun Grappa and Spirits Wordplay
            "Grappa: Turning leftover pomace into liquid gold since forever.",
            "Wine is fine, but grappa’s divine!",
            "You can’t spell ‘grappa’ without ‘grin’—try it and you’ll see why!",
            "Distill my heart—grappa, you’ve done it again!",
            "Life’s too short for bad spirits—choose wisely, drink deeply.",
            "Grappa: Because a second life for grapes is always worth toasting to.",
            "How do I deal with stress? Grappa therapy, one sip at a time.",
            "Rum might make you feel tropical, but grappa brings the Alps to your glass.",
            "I heard you like spirits—grappa's here to lift yours.",
            "Grappa pairs perfectly with everything, especially good conversation.",
            
            // Distillation Humor
            "Distillation is like life: the heat brings out your true essence.",
            "Grappa: Proof that even leftovers can become legendary.",
            "They say I’m aging well—thanks, I’ve been distilled!",
            "Why did the grappa cross the road? To meet its old friend, espresso!",
            "Making grappa: part science, part art, all heart.",
            "Pomace isn’t waste; it’s just pre-grappa potential.",
            
            // International Spirits & Brands
            "Italy gave us grappa, but the world gave us reasons to share it.",
            "From Scotch in Scotland to tequila in Mexico, spirits tell stories of their roots.",
            "Cognac whispers elegance; grappa sings tradition.",
            "Try Japanese shochu or Brazilian cachaça—spirits worth a detour.",
            "Raise a glass to world-class spirits: Scotch, bourbon, mezcal, and of course, grappa.",
            "Each country has a spirit. Italy's is grappa; what’s yours?",
            "Best grappa comes from the hills of Italy—Tuscany, Piedmont, and Veneto lead the way.",
            "Global brands to know: Glenfiddich (Scotland), Hennessy (France), and Nardini (Italy).",
            "Explore the world: Zacapa rum from Guatemala, Nikka whisky from Japan, and Poli grappa from Italy.",
            "Why limit happy hour to one spirit? Try them all, from Brazilian cachaça to Icelandic Brennivín.",
            
            // Tips for Enjoying Grappa
            "Serve grappa at room temperature to let its flavors shine.",
            "A tulip glass makes grappa's aromas bloom beautifully.",
            "Grappa after dinner? Always. It’s the Italian way.",
            "Pair aged grappa with dark chocolate for a match made in heaven.",
            "Want a quick coffee boost? Add a splash of grappa—hello, caffè corretto!",
            "Experiment with grappa in cocktails—it’s not just for sipping!",
            "Aged grappa can rival the finest whiskeys—don’t knock it till you try it.",
            "When tasting grappa, take small sips and let it linger. Savor the complexity.",
            "Use grappa to flambé desserts for a dramatic and flavorful touch.",
            "Grappa is a journey, not a destination. Explore different regions and styles.",

            // Homer and Spirits
            "Homer: 'Grappa? Is that Italian for 'beer’s cooler cousin'?'",
            "Homer: 'I tried grappa once. It tasted like regret and adventure.'",
            "Homer: 'Whiskey? Oh Marge, I only drink it for the antioxidants!'",
            "Bart: 'Dad, what's grappa?' Homer: 'It’s wine’s wilder, crazier brother!'",
            "Moe: 'We don’t serve grappa here, but I can pour you something mysterious from the back.'",
            "Homer: 'Grappa is like a hug… for your insides. A very, very strong hug.'",
            
            // Grappa and the Simpsons
            "Lisa: 'Dad, do you even know what grappa is?' Homer: 'Sure I do! It’s the stuff they drink to feel smarter than us!'",
            "Homer: 'They said I couldn't pair donuts with whiskey. Who’s laughing now?'",
            "Marge: 'Homer, why are you smelling that glass?' Homer: 'It’s called savoring, Marge. I learned it from the grappa guys.'",
            "Bart: 'Grappa? Isn’t that just old grape juice?' Homer: 'Oh, son, it’s the juice of life… distilled.'",
            "Homer: 'Grappa: for when wine isn’t strong enough, and you want to feel fancy doing it.'",
            
            // Moe’s Tavern Specials
            "Moe: 'Today’s special is Flaming Grappa Homer—like the Flaming Moe, but classier.'",
            "Moe: 'Grappa? That’s just what we call our mystery spirits after a customer leaves happy.'",
            "Barney: 'Moe, do you have any grappa?' Moe: 'Does it look like I have a degree in mixology, Barney?'",
            "Homer: 'Moe, do you have whiskey?' Moe: 'Does Duff count?'",
            
            // Springfield Spirit Humor
            "Chief Wiggum: 'Grappa? Sounds like something we confiscate at the Italian festival every year.'",
            "Homer: 'Why drink water when you can distill it into whiskey?'",
            "Bart: 'Cowabunga! This grappa tastes like adventure… and a bad decision.'",
            "Lisa: 'Dad, grappa is made from pomace.' Homer: 'What’s pomace?' Lisa: 'Leftover grape skins.' Homer: 'So it’s grape recycling? Genius!'",
            "Homer: 'Grappa is just fancy moonshine. And I respect that.'",
        
            "Distill with precision: 200g/L sugar yields roughly 12% alcohol.",
            "A perfect grappa starts with understanding your pomace's sugar content.",
            "Distillation efficiency is the heart of every great spirit.",
            "Measure twice, distill once: Keep track of your ABV!",
            "Fermentation temperature control = smoother grappa.",
            "One ton of grape pomace can yield about 70-100 liters of grappa.",
            "Remember, patience during aging turns good spirits into great ones.",
            "Barrel aging? Watch out for angel's share—3% alcohol loss annually.",
            "Higher sugar content in pomace? Expect a richer flavor profile.",
            "A hydrometer is a distiller's best friend—know your potential ABV!",
            "Distillation cuts: Heads are harsh, hearts are gold, tails are tricky.",
            "Quality water in, quality grappa out—always filter carefully.",
            "Copper stills enhance flavor by removing sulfur compounds.",
            "Never rush fermentation—good things take time to bubble.",
            "One grape's trash (pomace) is another distiller's treasure!",
            "Peter: 'Distillation? Sounds like a fancy word for turning mistakes into something drinkable!'",
            "Peter: 'Grappa? It’s Italian for ‘I dare you to try this twice!’'",
            "Peter: 'Lois, I’m basically a scientist. Distillation is just science you can sip!'",
            "Peter: 'They say grappa is made from leftovers… that’s what makes it a meal and a drink!'",
            "Peter: 'The distillation process separates the alcohol from the water, just like I separate myself from responsibility after a few drinks!'",
            "Peter: 'I tried to make grappa at home, but now we just call it ‘Griffin’s gasoline.’'",
            "Peter: 'Grappa is proof that grapes get a second chance, just like me every Monday morning!'",
            "Peter: 'Distillers are just grape therapists: squeezing out the issues and turning them into solutions!'",
            "Peter: 'I told Lois I wanted to open a grappa distillery. She said, ‘Don’t wine about it!’'",
            "Peter: 'Distillation is like Peter Griffin: it takes heat, pressure, and patience to make something worth having!'",
            "Peter: 'Grappa is what happens when Italians refuse to waste anything—especially a buzz!'",
            "Peter: 'The best part about distilling grappa? It’s like cooking, but you’re the dish!'",
            "Peter: 'Why do they call it a still? Because after a bottle of grappa, you’re still gonna want more!'",
            "Peter: 'Distillation turns liquid into vapor and back into liquid. Kind of like my willpower when I smell grappa!'",
            "Peter: 'I’m opening a grappa brand: Griffin’s Grog. Tagline? ‘It’s a spirit for the spirited!’",
           // Science-based humor
            "Distillation: where science meets the art of making your grapes forget their past.",
            "Dilution is like compromise—you add water to keep the peace but lose a bit of the fire.",
            "Why do distillers measure in proof? Because after a sip, you need proof you’re not dreaming.",
            "Alcohol evaporates faster than water. Science calls it volatility; I call it ‘goodbye productivity.’",
            "During distillation, the heads come first, then the hearts. It’s like love—start with your head, but follow your heart.",
            "Adding water opens up the flavors. It’s like a therapy session for your spirit.",
            "Reflux isn’t just for heartburn; it’s how your still makes better decisions than you after a bottle.",
            "Distillation separates compounds by boiling point. Life separates people by tolerance for overcooked grappa.",
            "A hydrometer measures alcohol content, but only your tongue measures the truth.",
            "Ethanol boils at 78.5°C—proof that some relationships flourish under heat, but not too much.",
            // Fun jokes
            "Diluting grappa is like softening criticism—it goes down easier, but the point’s still there.",
            "Heads, hearts, and tails: a distiller’s guide to anatomy.",
            "Grappa starts as grape leftovers and ends as a great conversation starter.",
            "Distillation is nature’s way of saying, 'Let’s see what happens when we turn up the heat!'",
            "Adding water to spirits? Some call it dilution; I call it unlocking potential.",
            "The tails are where things get funky—just like me on the dance floor after grappa.",
            "Distillation isn’t just chemistry—it’s the alchemy of turning patience into liquid gold.",
            "Never trust a still that leaks. Just like secrets, good grappa needs containment.",
            "Distilling is the ultimate recycling—grapes into grappa, mistakes into memories.",
            "Why do distillers take the middle cut? Because nobody wants to drink regrets or leftovers.",
            "Euler's identity: \( e^{i\pi} + 1 = 0 \). Proof that math is poetry for the universe.",
            "The Navier-Stokes equation: \( \rho \left( \frac{\partial \mathbf{u}}{\partial t} + \mathbf{u} \cdot \nabla \mathbf{u} \right) = -\nabla p + \mu \nabla^2 \mathbf{u} + \mathbf{f} \). Explains fluids, but good luck solving it!",
            "Ramanujan’s infinite series for \( \frac{1}{\pi} \): \( \frac{1}{\pi} = 2 \sqrt{2} \sum_{k=0}^\infty \frac{(4k)!(1103 + 26390k)}{(k!)^4 396^{4k}} \). A pi formula so beautiful, it’s irrational!",
            "Cantor’s diagonal argument: There are more real numbers than natural numbers. Infinity has levels—like grappa after a few rounds.",
            "Riemann Hypothesis: \( \text{If Re}(s) = \frac{1}{2}, \text{then } \zeta(s) = 0 \). Unsolved, but crucial to cryptography and the stock market—or so they say.",
            "Gödel’s incompleteness theorem: Any system complex enough to do math contains truths it cannot prove. Like how grappa is good for the soul.",
            "Black-Scholes formula for options pricing: \( C = S N(d_1) - K e^{-rT} N(d_2) \). Because the stock market is just calculus with caffeine.",
            "The Mandelbrot set: \( z_{n+1} = z_n^2 + c \). Proof that chaos can be breathtakingly beautiful.",
            "The Schrödinger equation: \( i\hbar \frac{\partial}{\partial t} \Psi = \hat{H} \Psi \). Physics meets philosophy—until you open the box.",
            "Kolmogorov complexity: The length of the shortest program that describes an object. Life’s simplest truths are hardest to explain.",
            "Distilling is like therapy: concentrate the best parts and let the rest evaporate.",
            "Freud might say your love of grappa is just your 'id' thirsting for distilled pleasure.",
            "Jung would argue every distiller is searching for the archetype of the perfect spirit.",
            "Distillers have a lot in common with psychologists—they both bottle up emotions, but only one lets you drink them.",
            "Maslow’s hierarchy of needs should include a post-dinner grappa at the top.",
            "Pavlov trained dogs with a bell; distillers train customers with the sound of a cork popping.",
            "Distillation mirrors self-improvement: eliminate impurities, refine the core, and celebrate progress.",
            "Existentialists would say distilling is an act of rebellion against chaos—finding order in the still.",
            "Behaviorists believe every sip of a fine spirit reinforces the need for another.",
            "Cognitive psychology proves it: tasting grappa after a long day rewires your brain for joy.",

            "Can a distiller overcome the sunk cost fallacy when a batch goes wrong?",
            "Balancing perfectionism with productivity: When does 'good enough' suffice in crafting spirits?",
            "The placebo effect: Does labeling a spirit 'premium' alter how it's perceived, even if it's the same batch?",
            "Decision fatigue: How do distillers stay sharp when constantly tweaking recipes and ratios?",
            "Confirmation bias in tasting: Do distillers favor flavors they *expect* to find in their spirits?",
            "Imposter syndrome: Does every new distiller question if their product deserves a place on the shelf?",
            "Emotional attachment: How do distillers stay objective when letting go of a failed experiment?",
            "The paradox of choice: Does offering too many spirit varieties overwhelm customers and hurt sales?",
            "Cognitive dissonance: How does a distiller reconcile love for tradition with the need for innovation?",
            "Social influence: How much does public opinion sway a distiller's next creative decision?",
            
           "The art of patience: How does the anticipation of aging barrels affect a distiller's creative flow?",
            "Embracing imperfection: Can an unexpected 'mistake' in the distillation process birth a masterpiece?",
            "The sensory symphony: How do distillers train their nose and palate to create harmony in a bottle?",
            "Tradition versus innovation: When does breaking the rules lead to brilliance in spirits crafting?",
            "The emotional alchemy: How much of a distiller’s mood seeps into the spirit during crafting?",
            "Balancing intuition and precision: Can creativity thrive alongside exact measurements?",
            "Cultural storytelling: How does a distiller’s heritage infuse into the character of their spirits?",
            "The psychology of scarcity: Does limiting production elevate a spirit’s perceived quality?",
            "Color psychology: How does the hue of a spirit influence the experience of its flavor?",
            "Ego versus humility: Can a distiller let their spirits speak for themselves without over-explaining?",

           
            ];


        function calculate() {
            // Input values
            const liter = parseFloat(document.getElementById("liter").value);
            const promille = parseFloat(document.getElementById("promille").value);
            const targetPromille = parseFloat(document.getElementById("targetPromille").value);
            const addedPromille = parseFloat(document.getElementById("addedPromille").value);
            const temperature = parseFloat(document.getElementById("temperature").value);

            // Ensure values are valid
            if (isNaN(liter) || isNaN(promille) || isNaN(targetPromille) || isNaN(addedPromille) || isNaN(temperature)) {
                alert("Bitte geben Sie gültige Werte ein.");
                return;
            }

            // Apply correction factor for temperature
            const correctionFactor = getCorrectionFactor(temperature);
            const correctedPromille = promille * correctionFactor;

            // Calculations based on promille values
            let addedLiters;
            if (targetPromille > correctedPromille) {
                // Enrichment: Adding higher promille liquid
                if (addedPromille <= targetPromille) {
                    alert("Das zugefügte Promille muss höher als das Ziel-Promille sein.");
                    return;
                }
                addedLiters = ((liter * (targetPromille - correctedPromille)) / (addedPromille - targetPromille));
            } else if (targetPromille < correctedPromille) {
                // Dilution: Adding lower promille liquid
                if (addedPromille >= targetPromille) {
                    alert("Das zugefügte Promille muss niedriger als das Ziel-Promille sein.");
                    return;
                }
                addedLiters = ((liter * (correctedPromille - targetPromille)) / (targetPromille - addedPromille));
            } else {
                alert("Aktuelles und Ziel-Promille sind gleich. Keine Berechnung notwendig.");
                return;
            }

            const totalLiters = liter + addedLiters;

            // Display results
            document.getElementById("addedLiters").textContent = addedLiters.toFixed(3);
            document.getElementById("totalLiters").textContent = totalLiters.toFixed(2);
            document.getElementById("totalPromille").textContent = targetPromille.toFixed(0);

            // Show results box
            document.getElementById("results").style.display = "block";

            // Display random philosophical quote
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById("philosophy").textContent = randomQuote;
            document.getElementById("philosophy").style.display = "block";
        }

        
    </script>
